<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Helsinki parking violations</title>

    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://d3js.org/d3-array.v2.min.js"></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.9.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.9.0/mapbox-gl.css' rel='stylesheet' />
    <script src='https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.1.0/chroma.min.js'></script>
    <link rel="stylesheet" href="//cdn.materialdesignicons.com/5.1.45/css/materialdesignicons.min.css">

    <link href="style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="loader">
      <div class="loader__overlay"></div>
    </div>
    <div class="content">
      <div class="left-sidebar">
        <div class="page-title">
          <span>Helsinki parking violations<span>
          <div class="sidebar__visibility-control" onclick="changeSidebarVisibility()">
              <i class="visibility__icon visibility__icon--on mdi mdi-chevron-right"></i>
              <i class="visibility__icon visibility__icon--off mdi mdi-chevron-left"></i>
          </div>
        </div>

        <div class="section section--period">
          <div class="section__title">
            <span>Period: Jan 2018 - Dec 2019</span>
            <div class="section__visibility-control" onclick="changeSectionVisibility(event)">
              <i class="visibility__icon visibility__icon--on mdi mdi-chevron-down"></i>
              <i class="visibility__icon visibility__icon--off mdi mdi-chevron-up"></i>
            </div>
          </div>
          <div class="section__content">
            <div id="periodSelector"></div>

            <div class="period__summary">
              <div class="data__field data__field--period-time">
                <div class="field__label">Month</div>
                <div class="field__value">-</div>
              </div>
              <div class="data__field data__field--period-total">
                <div class="field__label">Total violations</div>
                <div class="field__value">-</div>
              </div>
              <div class="data__field data__field--most-violation">
                <div class="field__label">Area with most violations <b></b></div>
                <div class="field__value">-</div>
              </div>
            </div>
          </div>
        </div>

        <div class="section section--reasons">
          <div class="section__title">
            <span>Violation reasons</span>
            <span class="group-legend__trigger" onclick="showLegendBox()">
              <i class="mdi mdi-help-circle"></i>
            </span>
          </div>
          <div class="section__content" id="stats">
          </div>
        </div>

        <div class="group-legend group-legend--off">
          <div class="section section--group">
            <div class="section__title">
              <span>Violation groups and color</span>
              <div class="info__close">
                <img src="images/close.svg" onclick="hideLegendBox()" />
              </div>
            </div>
            <div class="section__content">
              <ul class="group__list"></ul>
            </div>
          </div>
        </div>
      </div>

      <div class="section section--maps">
        <div id="bubblemaps"></div>
      </div>

      <div class="right-sidebar">
        <div class="controls">
          <!-- <button class="control__button control__button--search">
            <i class="button__illustration button__illustration--off mdi mdi-map-search-outline"></i>
            <i class="button__illustration button__illustration--on mdi mdi-eye-off-outline"></i>
            <div class="button__text">Search address</div>
          </button> -->

          <button class="control__button control__button--explorer">
            <i class="button__illustration button__illustration--off mdi mdi-image-filter-tilt-shift"></i>
            <i class="button__illustration button__illustration--on mdi mdi-eye-off-outline"></i>
            <div class="button__text">Area explorer</div>
          </button>

          <button class="control__button control__button--lang" onclick="changeLanguage()">
            <i class="button__illustration mdi mdi-translate"></i>
            <div class="button__text">
              Language:
              <b class="text__lang">FI</b>
            </div>
          </button>
        </div>

        <div class="section section--explorer-help">
          <div class="section__content">
            <i class="mdi mdi-information"></i>
            Click on the map to explore the violations around
          </div>
        </div>

        <div class="location-info" id="locationInfo">
          <div class="section section--location-summary">
            <div class="section__title">
              <span>Location summary</span>
              <div class="info__close">
                <img src="images/close.svg" onclick="hideInfoBox()" />
              </div>
            </div>
            <div class="section__content">
            </div>
          </div>

          <div class="section section--location-reasons">
            <div class="section__title">
              Top reasons
            </div>
            <div class="section__content">
            </div>
          </div>
        </div>
      </div>

    </div>

    <script src="data/violation_reasons_en.js"></script>
    <script src="data/violation_reasons_fi.js"></script>

    <script src="js/parser.js"></script>
    <script src="js/collect.js"></script>
    <!-- <script src="js/maps.js"></script> -->
    <script src="js/bubblemaps.js"></script>
    <script src="js/timeline.js"></script>
    <script src="js/reasons.js"></script>
    <script src="js/locationinfo.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>